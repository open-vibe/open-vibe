import { createContext, useContext, useMemo, type ReactNode } from "react";

export type AppLanguage = "system" | "en" | "zh-CN";
export type ResolvedLanguage = "en" | "zh-CN";

type TranslationKey = keyof typeof en;
type TranslationParams = Record<string, string | number>;

const en = {
  "language.system": "System",
  "language.english": "English",
  "language.chinese": "Simplified Chinese",
  "settings.language.label": "Language",
  "settings.language.help": "Choose the display language for the app.",
  "settings.title": "Settings",
  "settings.close": "Close settings",
  "settings.nav.projects": "Projects",
  "settings.nav.displaySound": "Display & Sound",
  "settings.nav.composer": "Composer",
  "settings.nav.dictation": "Dictation",
  "settings.nav.shortcuts": "Shortcuts",
  "settings.nav.openIn": "Open in",
  "settings.nav.codex": "Codex",
  "settings.nav.experimental": "Experimental",
  "settings.projects.title": "Projects",
  "settings.projects.subtitle": "Group related workspaces and reorder projects within each group.",
  "settings.projects.groups.title": "Groups",
  "settings.projects.groups.subtitle": "Create group labels for related repositories.",
  "settings.projects.groupName.placeholder": "New group name",
  "settings.projects.group.add": "Add group",
  "settings.projects.group.copiesFolder": "Copies folder",
  "settings.projects.group.notSet": "Not set",
  "settings.projects.group.choose": "Choose…",
  "settings.projects.group.clear": "Clear",
  "settings.projects.group.moveUp": "Move group up",
  "settings.projects.group.moveDown": "Move group down",
  "settings.projects.group.delete": "Delete group",
  "settings.projects.group.empty": "No groups yet.",
  "settings.projects.projects.title": "Projects",
  "settings.projects.projects.subtitle": "Assign projects to groups and adjust their order.",
  "settings.projects.refreshOnFocus.title": "Refresh on focus",
  "settings.projects.refreshOnFocus.subtitle":
    "Reload thread lists when the app regains focus.",
  "settings.projects.project.moveUp": "Move project up",
  "settings.projects.project.moveDown": "Move project down",
  "settings.projects.project.delete": "Delete project",
  "settings.projects.project.empty": "No projects yet.",
  "settings.display.title": "Display & Sound",
  "settings.display.subtitle": "Tune visuals and audio alerts to your preferences.",
  "settings.display.section.title": "Display",
  "settings.display.section.subtitle": "Adjust how the window renders backgrounds and effects.",
  "settings.display.theme.label": "Theme",
  "settings.display.theme.system": "System",
  "settings.display.theme.light": "Light",
  "settings.display.theme.dark": "Dark",
  "settings.display.reduceTransparency.title": "Reduce transparency",
  "settings.display.reduceTransparency.subtitle": "Use solid surfaces instead of glass.",
  "settings.display.interfaceScale.title": "Interface scale",
  "settings.display.interfaceScale.label": "Interface scale",
  "settings.display.reset": "Reset",
  "settings.display.uiFont.label": "UI font family",
  "settings.display.uiFont.help":
    "Applies to all UI text. Leave empty to use the default system font stack.",
  "settings.display.codeFont.label": "Code font family",
  "settings.display.codeFont.help": "Applies to git diffs and other mono-spaced readouts.",
  "settings.display.codeFontSize.label": "Code font size",
  "settings.display.codeFontSize.help": "Adjusts code and diff text size.",
  "settings.display.sounds.title": "Sounds",
  "settings.display.sounds.subtitle": "Control notification audio alerts.",
  "settings.display.notificationSounds.title": "Notification sounds",
  "settings.display.notificationSounds.subtitle":
    "Play a sound when a long-running agent finishes while the window is unfocused.",
  "settings.display.notificationSounds.success.label": "Success sound",
  "settings.display.notificationSounds.error.label": "Error sound",
  "settings.display.notificationSounds.defaultSuccess": "Default success",
  "settings.display.notificationSounds.defaultError": "Default error",
  "settings.display.notificationSounds.custom": "Custom file...",
  "settings.display.notificationSounds.customSelected": "Custom: {name}",
  "settings.display.notificationSounds.chooseFile": "Choose file",
  "settings.display.notificationSounds.testSuccess": "Test success",
  "settings.display.notificationSounds.testError": "Test error",
  "settings.display.notificationSounds.volume.label": "Volume",
  "settings.display.notificationSounds.volume.help":
    "Adjust the playback volume for notification sounds.",
  "settings.display.testSound": "Test sound",
  "threads.rename.title": "Rename thread",
  "threads.rename.subtitle": "Current name: \"{name}\"",
  "threads.rename.label": "New name",
  "threads.rename.hint": "Leave empty to reset to the default name.",
  "threads.rename.cancel": "Cancel",
  "threads.rename.confirm": "Rename",
  "worktree.prompt.title": "New worktree agent",
  "worktree.prompt.subtitle": "Create a worktree under \"{name}\".",
  "worktree.prompt.branch.label": "Branch name",
  "worktree.prompt.script.title": "Worktree setup script",
  "worktree.prompt.script.hint":
    "Runs once in a dedicated terminal after each new worktree is created.",
  "worktree.prompt.script.placeholder": "pnpm install",
  "worktree.prompt.cancel": "Cancel",
  "worktree.prompt.confirm": "Create",
  "clone.prompt.title": "New clone agent",
  "clone.prompt.subtitle": "Create a new working copy of \"{name}\".",
  "clone.prompt.copyName.label": "Copy name",
  "clone.prompt.copiesFolder.label": "Copies folder",
  "clone.prompt.copiesFolder.placeholder": "Not set",
  "clone.prompt.choose": "Choose…",
  "clone.prompt.clear": "Clear",
  "clone.prompt.suggested": "Suggested",
  "clone.prompt.suggested.aria": "Suggested copies folder",
  "clone.prompt.copy": "Copy",
  "clone.prompt.useSuggested": "Use suggested",
  "clone.prompt.cancel": "Cancel",
  "clone.prompt.confirm": "Create",
  "workspace.delete.title": "Delete workspace",
  "workspace.delete.confirm":
    "Are you sure you want to delete \"{name}\"?\n\nThis will remove the workspace from OpenVibe.",
  "workspace.delete.detail.one": "This will also delete {count} worktree on disk.",
  "workspace.delete.detail.other": "This will also delete {count} worktrees on disk.",
  "workspace.delete.ok": "Delete",
  "workspace.delete.cancel": "Cancel",
  "workspace.delete.fallback.workspace": "this workspace",
  "workspace.delete.fallback.worktree": "this worktree",
  "worktree.delete.title": "Delete worktree",
  "worktree.delete.confirm":
    "Are you sure you want to delete \"{name}\"?\n\nThis will close the agent, remove its worktree, and delete it from OpenVibe.",
  "worktree.delete.ok": "Delete",
  "worktree.delete.cancel": "Cancel",
  "worktree.delete.errorTitle": "Delete worktree failed",
  "settings.composer.title": "Composer",
  "settings.composer.subtitle":
    "Control helpers and formatting behavior inside the message editor.",
  "settings.composer.presets.title": "Presets",
  "settings.composer.presets.subtitle":
    "Choose a starting point and fine-tune the toggles below.",
  "settings.composer.presets.label": "Preset",
  "settings.composer.presets.help":
    "Presets update the toggles below. Customize any setting after selecting.",
  "settings.composer.sendMode.title": "Send behavior",
  "settings.composer.sendMode.subtitle": "Choose how Enter sends messages.",
  "settings.composer.sendMode.label": "Enter key",
  "settings.composer.sendMode.enter": "Enter sends",
  "settings.composer.sendMode.ctrlEnter": "Ctrl/Cmd+Enter sends",
  "settings.composer.sendMode.smart": "Smart: Enter sends unless multiline",
  "settings.composer.sendConfirm.title": "Send confirmation",
  "settings.composer.sendConfirm.subtitle":
    "Ask for confirmation before sending to the current thread.",
  "messages.empty": "Start a thread and send a prompt to the agent.",
  "messages.loading": "Loading conversation…",
  "messages.happy.synced": "Synced to Happy.",
  "messages.happy.failed": "Sync failed. Click to retry.",
  "happy.status.connected": "Happy connected",
  "happy.status.disconnected": "Happy disconnected",
  "settings.composer.codeFences.title": "Code fences",
  "settings.composer.codeFences.expandSpace.title": "Expand fences on Space",
  "settings.composer.codeFences.expandSpace.subtitle":
    "Typing ``` then Space inserts a fenced block.",
  "settings.composer.codeFences.expandEnter.title": "Expand fences on Enter",
  "settings.composer.codeFences.expandEnter.subtitle":
    "Use Enter to expand ``` lines when enabled.",
  "settings.composer.codeFences.languageTags.title": "Support language tags",
  "settings.composer.codeFences.languageTags.subtitle":
    "Allows ```lang + Space to include a language.",
  "settings.composer.codeFences.wrapSelection.title": "Wrap selection in fences",
  "settings.composer.codeFences.wrapSelection.subtitle":
    "Wraps selected text when creating a fence.",
  "settings.composer.codeFences.copyWithoutFences.title":
    "Copy blocks without fences",
  "settings.composer.codeFences.copyWithoutFences.subtitle":
    "When enabled, Copy is plain text. Hold Option to include ``` fences.",
  "settings.composer.pasting.title": "Pasting",
  "settings.composer.pasting.autoWrapMultiline.title":
    "Auto-wrap multi-line paste",
  "settings.composer.pasting.autoWrapMultiline.subtitle":
    "Wraps multi-line paste inside a fenced block.",
  "settings.composer.pasting.autoWrapCodeLike.title":
    "Auto-wrap code-like single lines",
  "settings.composer.pasting.autoWrapCodeLike.subtitle":
    "Wraps long single-line code snippets on paste.",
  "settings.composer.lists.title": "Lists",
  "settings.composer.lists.continue.title": "Continue lists on Shift+Enter",
  "settings.composer.lists.continue.subtitle":
    "Continues numbered and bulleted lists when the line has content.",
  "settings.composer.presets.default": "Default (no helpers)",
  "settings.composer.presets.helpful": "Helpful",
  "settings.composer.presets.smart": "Smart",
  "settings.status.loading": "Loading…",
  "settings.status.saving": "Saving…",
  "settings.status.notFound": "Not found",
  "settings.status.truncated": "Truncated",
  "settings.action.save": "Save",
  "settings.action.create": "Create",
  "settings.action.clear": "Clear",
  "settings.action.browse": "Browse",
  "settings.action.usePath": "Use PATH",
  "settings.action.saving": "Saving...",
  "settings.action.running": "Running...",
  "settings.action.runDoctor": "Run doctor",
  "settings.action.addApp": "Add app",
  "settings.action.downloadModel": "Download model",
  "settings.action.cancelDownload": "Cancel download",
  "settings.action.removeModel": "Remove model",
  "settings.error.openConfig": "Unable to open config.",
  "settings.platform.finder": "Finder",
  "settings.platform.fileExplorer": "File Explorer",
  "settings.platform.fileManager": "File Manager",
  "settings.dictation.title": "Dictation",
  "settings.dictation.subtitle": "Enable microphone dictation with on-device transcription.",
  "settings.dictation.enable.title": "Enable dictation",
  "settings.dictation.enable.subtitle": "Downloads the selected Whisper model on first use.",
  "settings.dictation.model.label": "Dictation model",
  "settings.dictation.modelHelp": "{note} Download size: {size}.",
  "settings.dictation.language.label": "Preferred dictation language",
  "settings.dictation.language.help":
    "Auto-detect stays on; this nudges the decoder toward your preference.",
  "settings.dictation.language.auto": "Auto-detect only",
  "settings.dictation.language.en": "English",
  "settings.dictation.language.es": "Spanish",
  "settings.dictation.language.fr": "French",
  "settings.dictation.language.de": "German",
  "settings.dictation.language.it": "Italian",
  "settings.dictation.language.pt": "Portuguese",
  "settings.dictation.language.nl": "Dutch",
  "settings.dictation.language.sv": "Swedish",
  "settings.dictation.language.no": "Norwegian",
  "settings.dictation.language.da": "Danish",
  "settings.dictation.language.fi": "Finnish",
  "settings.dictation.language.pl": "Polish",
  "settings.dictation.language.tr": "Turkish",
  "settings.dictation.language.ru": "Russian",
  "settings.dictation.language.uk": "Ukrainian",
  "settings.dictation.language.ja": "Japanese",
  "settings.dictation.language.ko": "Korean",
  "settings.dictation.language.zh": "Chinese",
  "settings.dictation.holdKey.label": "Hold-to-dictate key",
  "settings.dictation.holdKey.help":
    "Hold the key to start dictation, release to stop and process.",
  "settings.dictation.windowsNote":
    "Windows uses the system speech engine; model settings are ignored.",
  "settings.dictation.holdKey.off": "Off",
  "settings.dictation.holdKey.alt": "Option / Alt",
  "settings.dictation.holdKey.shift": "Shift",
  "settings.dictation.holdKey.control": "Control",
  "settings.dictation.holdKey.meta": "Command / Meta",
  "settings.dictation.status.label": "Model status ({label})",
  "settings.dictation.status.ready": "Ready for dictation.",
  "settings.dictation.status.missing": "Model not downloaded yet.",
  "settings.dictation.status.downloading": "Downloading model...",
  "settings.dictation.status.error": "Download error.",
  "settings.dictation.models.tiny.label": "Tiny",
  "settings.dictation.models.tiny.note": "Fastest, least accurate.",
  "settings.dictation.models.base.label": "Base",
  "settings.dictation.models.base.note": "Balanced default.",
  "settings.dictation.models.small.label": "Small",
  "settings.dictation.models.small.note": "Better accuracy.",
  "settings.dictation.models.medium.label": "Medium",
  "settings.dictation.models.medium.note": "High accuracy.",
  "settings.dictation.models.largeV3.label": "Large V3",
  "settings.dictation.models.largeV3.note": "Best accuracy, heavy download.",
  "home.title": "OpenVibe",
  "home.subtitle": "Orchestrate agents across your local projects.",
  "home.latest.title": "Latest agents",
  "home.latest.fallback": "Agent replied.",
  "home.latest.status.running": "Running",
  "home.latest.loading": "Loading agents",
  "home.latest.empty.title": "No agent activity yet",
  "home.latest.empty.subtitle": "Start a thread to see the latest responses here.",
  "home.actions.openProject": "Open Project",
  "home.actions.addWorkspace": "Add Workspace",
  "home.usage.title": "Usage snapshot",
  "home.usage.updated": "Updated {time}",
  "home.usage.refresh": "Refresh usage",
  "home.usage.workspace.label": "Workspace",
  "home.usage.workspace.all": "All workspaces",
  "home.usage.view.label": "View",
  "home.usage.view.aria": "Usage view",
  "home.usage.view.tokens": "Tokens",
  "home.usage.view.time": "Time",
  "home.usage.empty.title": "No usage data yet",
  "home.usage.empty.subtitle": "Run a Codex session to start tracking local usage.",
  "home.usage.metrics.last7Days": "Last 7 days",
  "home.usage.metrics.last30Days": "Last 30 days",
  "home.usage.metrics.avgPerDay": "Avg {value} / day",
  "home.usage.metrics.total": "Total {value}",
  "home.usage.metrics.cacheHitRate": "Cache hit rate",
  "home.usage.metrics.peakDay": "Peak day",
  "home.usage.metrics.runs": "Runs",
  "home.usage.metrics.agentTime": "agent time",
  "home.usage.metrics.tokens": "tokens",
  "home.usage.metrics.tokensWithValue": "{value} tokens",
  "home.usage.metrics.agentTimeWithValue": "{value} agent time",
  "home.usage.chart.tooltip.tokens": "{day} · {value} tokens",
  "home.usage.chart.tooltip.time": "{day} · {value} agent time",
  "home.usage.models.title": "Top models",
  "home.usage.models.tokensHint": "Tokens",
  "home.usage.models.empty": "No models yet",
  "sidebar.home": "Home",
  "sidebar.addWorkspace": "Add workspace",
  "sidebar.pinned": "Pinned",
  "sidebar.empty": "Add a workspace to start.",
  "sidebar.usage": "Usage",
  "sidebar.yunyi.title": "Yunyi stats",
  "sidebar.yunyi.dailyQuota": "Daily quota",
  "sidebar.yunyi.reset.soon": "Resetting soon",
  "sidebar.yunyi.reset.minutes": "Resets in {minutes}m",
  "sidebar.yunyi.reset.hoursMinutes": "Resets in {hours}h {minutes}m",
  "sidebar.yunyi.billing.duration": "By duration",
  "sidebar.yunyi.billing.amount": "By amount",
  "sidebar.yunyi.billing.quota": "By quota",
  "sidebar.yunyi.updatedAt": "Updated {time}",
  "sidebar.yunyi.missingToken": "Add a token in Settings to load usage.",
  "sidebar.yunyi.error": "Unable to load quota.",
  "sidebar.menu.rename": "Rename",
  "sidebar.menu.sync": "Sync from server",
  "sidebar.menu.archive": "Archive",
  "sidebar.menu.copyId": "Copy ID",
  "sidebar.menu.pin": "Pin",
  "sidebar.menu.unpin": "Unpin",
  "sidebar.menu.reloadThreads": "Reload threads",
  "sidebar.menu.delete": "Delete",
  "sidebar.menu.deleteWorktree": "Delete worktree",
  "sidebar.user.localWorkspace": "Local Workspace",
  "sidebar.user.settings": "Settings",
  "sidebar.user.debugLog": "Debug log",
  "sidebar.addMenu.newAgent": "New agent",
  "sidebar.addMenu.newWorktreeAgent": "New worktree agent",
  "sidebar.addMenu.newCloneAgent": "New clone agent",
  "sidebar.team.allWorkspaces": "All Workspaces",
  "sidebar.team.workspaceCount.one": "{count} workspace",
  "sidebar.team.workspaceCount.other": "{count} workspaces",
  "settings.shortcuts.title": "Shortcuts",
  "settings.shortcuts.subtitle":
    "Customize keyboard shortcuts for file actions, composer, panels, and navigation.",
  "settings.shortcuts.file.title": "File",
  "settings.shortcuts.file.subtitle": "Create agents and worktrees from the keyboard.",
  "settings.shortcuts.newAgent": "New Agent",
  "settings.shortcuts.newWorktreeAgent": "New Worktree Agent",
  "settings.shortcuts.newCloneAgent": "New Clone Agent",
  "settings.shortcuts.archiveThread": "Archive active thread",
  "settings.shortcuts.placeholder": "Type shortcut",
  "settings.shortcuts.default": "Default: {value}",
  "settings.shortcuts.pressToSet": "Press a new shortcut while focused. Default: {value}",
  "settings.shortcuts.composer.title": "Composer",
  "settings.shortcuts.composer.subtitle":
    "Cycle between model, access, reasoning, and collaboration modes.",
  "settings.shortcuts.cycleModel": "Cycle model",
  "settings.shortcuts.cycleAccess": "Cycle access mode",
  "settings.shortcuts.cycleReasoning": "Cycle reasoning mode",
  "settings.shortcuts.cycleCollaboration": "Cycle collaboration mode",
  "settings.shortcuts.stopRun": "Stop active run",
  "settings.shortcuts.panels.title": "Panels",
  "settings.shortcuts.panels.subtitle": "Toggle sidebars and panels.",
  "settings.shortcuts.panels.projects": "Toggle projects sidebar",
  "settings.shortcuts.panels.git": "Toggle git sidebar",
  "settings.shortcuts.panels.debug": "Toggle debug panel",
  "settings.shortcuts.panels.terminal": "Toggle terminal panel",
  "settings.shortcuts.navigation.title": "Navigation",
  "settings.shortcuts.navigation.subtitle": "Cycle between agents and workspaces.",
  "settings.shortcuts.navigation.nextAgent": "Next agent",
  "settings.shortcuts.navigation.prevAgent": "Previous agent",
  "settings.shortcuts.navigation.nextWorkspace": "Next workspace",
  "settings.shortcuts.navigation.prevWorkspace": "Previous workspace",
  "settings.openApps.title": "Open in",
  "settings.openApps.subtitle":
    "Customize the Open in menu shown in the title bar and file previews.",
  "settings.openApps.label": "Label",
  "settings.openApps.type": "Type",
  "settings.openApps.appName": "App name",
  "settings.openApps.command": "Command",
  "settings.openApps.args": "Args",
  "settings.openApps.type.app": "App",
  "settings.openApps.type.command": "Command",
  "settings.openApps.default": "Default",
  "settings.openApps.moveUp": "Move up",
  "settings.openApps.moveDown": "Move down",
  "settings.openApps.remove": "Remove app",
  "settings.openApps.help":
    "Commands receive the selected path as the final argument. Apps use the system opener with optional args.",
  "settings.openApps.aria.label": "Open app label {index}",
  "settings.openApps.aria.type": "Open app type {index}",
  "settings.openApps.aria.appName": "Open app name {index}",
  "settings.openApps.aria.command": "Open app command {index}",
  "settings.openApps.aria.args": "Open app args {index}",
  "settings.openApps.newApp": "New App",
  "settings.codex.title": "Codex",
  "settings.codex.subtitle":
    "Configure the Codex CLI used by OpenVibe and validate the install.",
  "settings.codex.path.label": "Default Codex path",
  "settings.codex.path.help": "Leave empty to use the system PATH resolution.",
  "settings.codex.args.label": "Default Codex args",
  "settings.codex.args.help":
    "Extra flags passed before app-server. Use quotes for values with spaces.",
  "settings.codex.doctor.okTitle": "Codex looks good",
  "settings.codex.doctor.errorTitle": "Codex issue detected",
  "settings.codex.doctor.version": "Version: {value}",
  "settings.codex.doctor.appServer": "App-server: {value}",
  "settings.codex.doctor.node": "Node: {value}",
  "settings.codex.doctor.ok": "ok",
  "settings.codex.doctor.failed": "failed",
  "settings.codex.doctor.missing": "missing",
  "settings.codex.doctor.unknown": "unknown",
  "settings.codex.doctor.okWithVersion": "ok ({version})",
  "settings.codex.doctor.path": "PATH: {value}",
  "settings.codex.access.title": "Access mode",
  "settings.codex.access.subtitle":
    "Choose the default permission level for Codex sessions.",
  "settings.codex.defaultAccess": "Default access mode",
  "settings.codex.access.readOnly": "Read only",
  "settings.codex.access.onRequest": "On-request",
  "settings.codex.access.full": "Full access",
  "settings.codex.backendMode": "Backend mode",
  "settings.codex.backend.local": "Local (default)",
  "settings.codex.backend.remote": "Remote (daemon)",
  "settings.codex.backend.help":
    "Remote mode connects to a separate daemon running the backend on another machine (e.g. WSL2/Linux).",
  "settings.codex.remote.title": "Remote backend",
  "settings.codex.remote.hostAria": "Remote backend host",
  "settings.codex.remote.tokenAria": "Remote backend token",
  "settings.codex.remote.tokenPlaceholder": "Token (optional)",
  "settings.codex.remote.help":
    "Start the daemon separately and point OpenVibe to it (host:port + token).",
  "settings.codex.fileAgents.title": "Global AGENTS.md",
  "settings.codex.fileAgents.placeholder": "Add global instructions for Codex agents…",
  "settings.codex.fileConfig.title": "Global config.toml",
  "settings.codex.fileConfig.placeholder": "Edit the global Codex config.toml…",
  "settings.codex.fileLocation": "Stored at",
  "settings.codex.workspaceOverrides.title": "Workspace overrides",
  "settings.codex.workspaceOverrides.subtitle":
    "Override Codex paths and args for specific workspaces.",
  "settings.codex.workspaceOverrides.binLabel": "Codex binary",
  "settings.codex.workspaceOverrides.homeLabel": "CODEX_HOME",
  "settings.codex.workspaceOverrides.argsLabel": "Codex args",
  "settings.codex.workspaceOverrides.binPlaceholder": "Codex binary override",
  "settings.codex.workspaceOverrides.homePlaceholder": "CODEX_HOME override",
  "settings.codex.workspaceOverrides.argsPlaceholder": "Codex args override",
  "settings.codex.workspaceOverrides.binAria": "Codex binary override for {name}",
  "settings.codex.workspaceOverrides.homeAria": "CODEX_HOME override for {name}",
  "settings.codex.workspaceOverrides.argsAria": "Codex args override for {name}",
  "settings.codex.workspaceOverrides.saveErrorTitle": "Unable to save override",
  "settings.codex.workspaceOverrides.saveErrorMessage":
    "Please check the path and try again.",
  "settings.codex.workspaceOverrides.saved": "Saved.",
  "settings.codex.workspaceOverrides.savedValue": "Saved: {value}",
  "settings.codex.workspaceOverrides.effectiveBin": "Effective: {value}",
  "settings.codex.workspaceOverrides.effectiveHome": "CODEX_HOME: {value}",
  "settings.codex.workspaceOverrides.effectiveArgs": "Args: {value}",
  "settings.codex.workspaceOverrides.test": "Test",
  "settings.codex.workspaceOverrides.testRunning": "Testing...",
  "settings.codex.workspaceOverrides.testOk": "OK",
  "settings.codex.workspaceOverrides.testFailed": "Failed",
  "settings.value.none": "None",
  "settings.value.default": "Default",
  "settings.experimental.title": "Experimental",
  "settings.experimental.subtitle": "Preview features that may change or be removed.",
  "settings.experimental.overridesNotice":
    "Experimental flags are stored in the default CODEX_HOME config.toml. Workspace overrides are not updated.",
  "settings.experimental.configFile.title": "Config file",
  "settings.experimental.configFile.subtitle": "Open the Codex config in {label}.",
  "settings.experimental.openInFileManager": "Open in {label}",
  "settings.experimental.multiAgent.title": "Multi-agent",
  "settings.experimental.multiAgent.subtitle":
    "Enable multi-agent collaboration tools in Codex.",
  "settings.experimental.collaborationModes.title": "Collaboration modes",
  "settings.experimental.collaborationModes.subtitle":
    "Enable collaboration mode presets (Code, Plan).",
  "settings.experimental.backgroundTerminal.title": "Background terminal",
  "settings.experimental.backgroundTerminal.subtitle":
    "Run long-running terminal commands in the background.",
  "settings.experimental.threadResumeStreaming.title": "Stream thread resume",
  "settings.experimental.threadResumeStreaming.subtitle":
    "Render large conversation histories progressively when opening a thread.",
  "settings.experimental.steer.title": "Steer mode",
  "settings.experimental.steer.subtitle":
    "Send messages immediately. Use Tab to queue while a run is active.",
  "settings.experimental.yunyi.title": "Yunyi stats",
  "settings.experimental.yunyi.subtitle": "Show a quota card in the sidebar.",
  "settings.experimental.yunyi.token.label": "Yunyi API token",
  "settings.experimental.yunyi.token.placeholder": "Bearer ...",
  "settings.experimental.yunyi.token.help":
    "Stored locally and used to fetch usage data from yunyi.cfd.",
  "settings.experimental.happy.title": "Happy remote",
  "settings.experimental.happy.subtitle":
    "Sync sessions to Happy so you can continue on mobile.",
  "settings.experimental.happy.token.label": "Happy token",
  "settings.experimental.happy.token.placeholder": "Bearer ...",
  "settings.experimental.happy.token.help":
    "Stored locally and used to authenticate with the Happy server.",
  "settings.experimental.happy.secret.label": "Happy secret key",
  "settings.experimental.happy.secret.placeholder": "XXXXX-XXXXX-XXXXX...",
  "settings.experimental.happy.secret.help":
    "Required for end-to-end encryption. Keep this private.",
  "settings.experimental.happy.server.label": "Server URL",
  "settings.experimental.happy.server.placeholder":
    "https://api.cluster-fluster.com",
  "settings.experimental.happy.server.help":
    "Defaults to the official server. Self-hosted support is optional.",
  "settings.experimental.happy.credentialsHelp":
    "Credentials are loaded automatically from ~/.happy/access.key (or HAPPY_HOME_DIR).",
  "settings.projects.group.deletePrompt": "Delete \"{name}\"?",
  "settings.projects.group.deleteDetail":
    "Projects in this group will move to \"{label}\".",
  "settings.projects.group.deleteTitle": "Delete Group",
  "settings.projects.group.deleteConfirm": "Delete",
  "settings.projects.group.deleteCancel": "Cancel",
  "composer.collaboration": "Collaboration",
  "composer.dictation.unavailable": "Dictation is unavailable. Check your settings.",
  "composer.dictation.canceled": "Dictation canceled.",
  "composer.dictation.dismiss": "Dismiss",
  "composer.target.label": "Sending to",
  "composer.target.unknown": "current thread",
  "composer.placeholder.default": "Ask the agent to do something...",
  "composer.placeholder.target": "Send to {target}...",
  "composer.placeholder.disabled":
    "Review in progress. Chat will re-enable when it completes.",
  "composer.sendConfirm.title": "Input reminder",
  "composer.sendConfirm.description": "Send to {target}?",
  "composer.sendConfirm.cancel": "Cancel send",
  "composer.sendConfirm.confirm": "Confirm send",
  "composer.copyFromTab": "Copy draft from {target}",
  "composer.noModels": "No models",
  "composer.default": "Default",
  "composer.access.readOnly": "Read only",
  "composer.access.onRequest": "On-Request",
    "composer.access.full": "Full access",
    "composer.contextFree": "Context free {percent}%",
    "composer.contextFreeUnknown": "Context free --",
    "panel.tabs.git": "Git",
    "panel.tabs.files": "Files",
    "panel.tabs.prompts": "Prompts",
    "git.mode.diff": "Diff",
  "git.mode.log": "Log",
  "git.mode.issues": "Issues",
  "git.mode.prs": "PRs",
  "git.depth": "Depth",
  "git.scanWorkspace": "Scan workspace",
  "git.pickFolder": "Pick folder",
  "git.useWorkspaceRoot": "Use workspace root",
  "git.change": "Change",
  "git.branch.unknown": "No git tracking",
  "git.path": "Path",
  "git.chooseRepo": "Choose a repo for this workspace.",
  "git.scanning": "Scanning for repositories...",
  "git.issues.title": "GitHub issues",
  "git.prs.title": "GitHub pull requests",
  "git.commits.loading": "Loading commits...",
  "git.commits.none": "No commits",
  "git.commits.noneYet": "No commits yet.",
  "git.upstream.none": "No upstream configured",
  "git.upstream.label": "Upstream {name}",
  "git.stageChanges": "Stage Changes",
  "git.unstageChanges": "Unstage Changes",
  "git.discardChanges": "Discard Changes",
  "git.stageAllChanges": "Stage All Changes",
    "git.unstageAllChanges": "Unstage All Changes",
    "git.discardAllChanges": "Discard All Changes",
    "git.applyWorktree": "Apply changes to parent workspace",
    "git.status.clean": "Working tree clean",
    "git.status.noRepo": "No git repository",
    "git.status.unavailable": "Git status unavailable",
    "git.status.changed.one": "{count} file changed",
    "git.status.changed.other": "{count} files changed",
    "git.noChangesDetected": "No changes detected.",
    "git.commit": "Commit",
    "git.commit.loading": "Committing...",
    "git.commit.enterMessage": "Enter a commit message",
    "git.commit.noChanges": "No changes to commit",
    "git.commit.staged": "Commit staged changes",
    "git.commit.unstaged": "Commit all unstaged changes",
    "git.commitMessage.placeholder": "Commit message...",
    "git.commitMessage.generate.aria": "Generate commit message",
    "git.commitMessage.generate.staged": "Generate commit message from staged changes",
    "git.commitMessage.generate.unstaged": "Generate commit message from unstaged changes",
    "git.push": "Push",
    "git.push.title.one": "Push {count} commit",
    "git.push.title.other": "Push {count} commits",
    "prompts.meta.count.one": "{count} prompt",
    "prompts.meta.count.other": "{count} prompts",
    "prompts.meta.none": "No prompts",
    "prompts.filter.placeholder": "Filter prompts",
    "prompts.filter.aria": "Filter prompts",
    "prompts.editor.name": "Name",
    "prompts.editor.namePlaceholder": "Prompt name",
    "prompts.editor.scope": "Scope",
    "prompts.editor.scope.workspace": "Workspace",
    "prompts.editor.scope.global": "General",
    "prompts.editor.description": "Description",
    "prompts.editor.descriptionPlaceholder": "Optional description",
    "prompts.editor.argumentHint": "Argument hint",
    "prompts.editor.argumentHintPlaceholder": "Optional argument hint",
    "prompts.editor.content": "Content",
    "prompts.editor.contentPlaceholder": "Prompt content",
    "prompts.editor.error.nameRequired": "Name is required.",
    "prompts.editor.error.nameNoWhitespace": "Name cannot include whitespace.",
    "prompts.editor.actions.cancel": "Cancel",
    "prompts.editor.actions.create": "Create",
    "prompts.editor.actions.save": "Save",
    "prompts.section.workspace": "Workspace prompts",
    "prompts.section.global": "General prompts",
    "prompts.section.addWorkspace": "Add workspace prompt",
    "prompts.section.addGlobal": "Add general prompt",
    "prompts.empty.workspace.title": "No workspace prompts yet",
    "prompts.empty.workspace.subtitle.before": "Create one here or drop a .md file into the ",
    "prompts.empty.workspace.folder": "workspace prompts folder",
    "prompts.empty.workspace.subtitle.after": ".",
    "prompts.empty.global.title": "No general prompts yet",
    "prompts.empty.global.subtitle.before": "Create one here or drop a .md file into ",
    "prompts.empty.global.folder": "CODEX_HOME/prompts",
    "prompts.empty.global.subtitle.after": ".",
    "prompts.actions.args.placeholder": "Arguments",
    "prompts.actions.args.aria": "Arguments for {name}",
    "prompts.actions.send": "Send",
    "prompts.actions.send.title": "Send to current agent",
    "prompts.actions.sendNew": "New agent",
    "prompts.actions.sendNew.title": "Send to a new agent",
    "prompts.actions.menu": "Prompt actions",
    "prompts.menu.edit": "Edit",
    "prompts.menu.moveToWorkspace": "Move to workspace",
    "prompts.menu.moveToGeneral": "Move to general",
    "prompts.menu.delete": "Delete",
    "prompts.delete.confirm": "Delete this prompt?",
    "prompts.delete.action": "Delete",
    "prompts.delete.cancel": "Cancel",
  };

const zhCN: Record<TranslationKey, string> = {
  "language.system": "跟随系统",
  "language.english": "English",
  "language.chinese": "简体中文",
  "settings.language.label": "语言",
  "settings.language.help": "选择应用显示语言。",
  "settings.title": "设置",
  "settings.close": "关闭设置",
  "settings.nav.projects": "项目",
  "settings.nav.displaySound": "显示与声音",
  "settings.nav.composer": "编辑器",
  "settings.nav.dictation": "语音输入",
  "settings.nav.shortcuts": "快捷键",
  "settings.nav.openIn": "打开方式",
  "settings.nav.codex": "Codex",
  "settings.nav.experimental": "实验功能",
  "settings.projects.title": "项目",
  "settings.projects.subtitle": "将相关工作区分组，并在每个组内调整项目顺序。",
  "settings.projects.groups.title": "分组",
  "settings.projects.groups.subtitle": "为相关仓库创建分组标签。",
  "settings.projects.groupName.placeholder": "新建分组名称",
  "settings.projects.group.add": "添加分组",
  "settings.projects.group.copiesFolder": "副本目录",
  "settings.projects.group.notSet": "未设置",
  "settings.projects.group.choose": "选择…",
  "settings.projects.group.clear": "清除",
  "settings.projects.group.moveUp": "分组上移",
  "settings.projects.group.moveDown": "分组下移",
  "settings.projects.group.delete": "删除分组",
  "settings.projects.group.empty": "暂无分组。",
  "settings.projects.projects.title": "项目",
  "settings.projects.projects.subtitle": "将项目分配到分组并调整顺序。",
  "settings.projects.refreshOnFocus.title": "焦点时刷新",
  "settings.projects.refreshOnFocus.subtitle":
    "应用重新获得焦点时刷新对话列表。",
  "settings.projects.project.moveUp": "项目上移",
  "settings.projects.project.moveDown": "项目下移",
  "settings.projects.project.delete": "删除项目",
  "settings.projects.project.empty": "暂无项目。",
  "settings.display.title": "显示与声音",
  "settings.display.subtitle": "根据偏好调整视觉效果和音频提醒。",
  "settings.display.section.title": "显示",
  "settings.display.section.subtitle": "调整窗口背景与效果的呈现方式。",
  "settings.display.theme.label": "主题",
  "settings.display.theme.system": "跟随系统",
  "settings.display.theme.light": "浅色",
  "settings.display.theme.dark": "深色",
  "settings.display.reduceTransparency.title": "降低透明度",
  "settings.display.reduceTransparency.subtitle": "使用纯色表面替代玻璃效果。",
  "settings.display.interfaceScale.title": "界面缩放",
  "settings.display.interfaceScale.label": "界面缩放",
  "settings.display.reset": "重置",
  "settings.display.uiFont.label": "界面字体",
  "settings.display.uiFont.help": "应用于所有界面文本。留空将使用系统默认字体。",
  "settings.display.codeFont.label": "代码字体",
  "settings.display.codeFont.help": "应用于 Git diff 与其他等宽内容。",
  "settings.display.codeFontSize.label": "代码字号",
  "settings.display.codeFontSize.help": "调整代码与 diff 的字体大小。",
  "settings.display.sounds.title": "声音",
  "settings.display.sounds.subtitle": "控制通知音效提醒。",
  "settings.display.notificationSounds.title": "通知音效",
  "settings.display.notificationSounds.subtitle":
    "当窗口不在前台且长时间运行完成时播放提示音。",
  "settings.display.notificationSounds.success.label": "成功音效",
  "settings.display.notificationSounds.error.label": "错误音效",
  "settings.display.notificationSounds.defaultSuccess": "默认成功",
  "settings.display.notificationSounds.defaultError": "默认错误",
  "settings.display.notificationSounds.custom": "自定义文件…",
  "settings.display.notificationSounds.customSelected": "自定义：{name}",
  "settings.display.notificationSounds.chooseFile": "选择文件",
  "settings.display.notificationSounds.testSuccess": "试听成功",
  "settings.display.notificationSounds.testError": "试听错误",
  "settings.display.notificationSounds.volume.label": "音量",
  "settings.display.notificationSounds.volume.help": "调整通知音效的播放音量。",
  "settings.display.testSound": "测试声音",
  "threads.rename.title": "重命名对话",
  "threads.rename.subtitle": "当前名称：“{name}”",
  "threads.rename.label": "新名称",
  "threads.rename.hint": "留空将恢复为默认名称。",
  "threads.rename.cancel": "取消",
  "threads.rename.confirm": "重命名",
  "worktree.prompt.title": "新建 Worktree 会话",
  "worktree.prompt.subtitle": "将在“{name}”下创建一个 worktree。",
  "worktree.prompt.branch.label": "分支名称",
  "worktree.prompt.script.title": "Worktree 初始化脚本",
  "worktree.prompt.script.hint": "每次创建 worktree 后会在独立终端执行一次。",
  "worktree.prompt.script.placeholder": "pnpm install",
  "worktree.prompt.cancel": "取消",
  "worktree.prompt.confirm": "创建",
  "clone.prompt.title": "新建 Clone 会话",
  "clone.prompt.subtitle": "为“{name}”创建一个新的工作副本。",
  "clone.prompt.copyName.label": "副本名称",
  "clone.prompt.copiesFolder.label": "副本目录",
  "clone.prompt.copiesFolder.placeholder": "未设置",
  "clone.prompt.choose": "选择…",
  "clone.prompt.clear": "清空",
  "clone.prompt.suggested": "推荐",
  "clone.prompt.suggested.aria": "推荐的副本目录",
  "clone.prompt.copy": "复制",
  "clone.prompt.useSuggested": "使用推荐",
  "clone.prompt.cancel": "取消",
  "clone.prompt.confirm": "创建",
  "workspace.delete.title": "删除工作区",
  "workspace.delete.confirm":
    "确定要删除“{name}”吗？\n\n此操作会将该工作区从 OpenVibe 中移除。",
  "workspace.delete.detail.one": "还会删除磁盘上的 {count} 个 worktree。",
  "workspace.delete.detail.other": "还会删除磁盘上的 {count} 个 worktree。",
  "workspace.delete.ok": "删除",
  "workspace.delete.cancel": "取消",
  "workspace.delete.fallback.workspace": "该工作区",
  "workspace.delete.fallback.worktree": "该 worktree",
  "worktree.delete.title": "删除 worktree",
  "worktree.delete.confirm":
    "确定要删除“{name}”吗？\n\n此操作会关闭该会话、移除 worktree，并从 OpenVibe 中删除。",
  "worktree.delete.ok": "删除",
  "worktree.delete.cancel": "取消",
  "worktree.delete.errorTitle": "删除 worktree 失败",
  "settings.composer.title": "编辑器",
  "settings.composer.subtitle": "控制消息编辑器中的辅助与格式行为。",
  "settings.composer.presets.title": "预设",
  "settings.composer.presets.subtitle": "选择起点并微调下方的开关。",
  "settings.composer.presets.label": "预设",
  "settings.composer.presets.help": "预设会更新下方开关，仍可继续自定义。",
  "settings.composer.sendMode.title": "发送方式",
  "settings.composer.sendMode.subtitle": "选择回车的发送行为。",
  "settings.composer.sendMode.label": "回车键",
  "settings.composer.sendMode.enter": "回车发送",
  "settings.composer.sendMode.ctrlEnter": "Ctrl/Cmd+Enter 发送",
  "settings.composer.sendMode.smart": "智能：单行回车发送，多行 Ctrl+Enter 发送",
  "settings.composer.sendConfirm.title": "发送确认",
  "settings.composer.sendConfirm.subtitle": "发送前提醒确认当前对话。",
  "messages.empty": "开始一个会话并向助手发送提示。",
  "messages.loading": "正在加载对话…",
  "messages.happy.synced": "已同步到 Happy。",
  "messages.happy.failed": "同步失败，点击重试。",
  "happy.status.connected": "Happy 已连接",
  "happy.status.disconnected": "Happy 未连接",
  "settings.composer.codeFences.title": "代码围栏",
  "settings.composer.codeFences.expandSpace.title": "空格自动展开围栏",
  "settings.composer.codeFences.expandSpace.subtitle": "输入 ``` 后按空格插入代码围栏。",
  "settings.composer.codeFences.expandEnter.title": "回车自动展开围栏",
  "settings.composer.codeFences.expandEnter.subtitle": "启用后可用回车展开 ``` 行。",
  "settings.composer.codeFences.languageTags.title": "支持语言标签",
  "settings.composer.codeFences.languageTags.subtitle":
    "允许 ```lang + 空格 添加语言标记。",
  "settings.composer.codeFences.wrapSelection.title": "围栏包裹选中内容",
  "settings.composer.codeFences.wrapSelection.subtitle":
    "创建围栏时自动包裹选中文本。",
  "settings.composer.codeFences.copyWithoutFences.title": "复制不带围栏",
  "settings.composer.codeFences.copyWithoutFences.subtitle":
    "启用后复制为纯文本。按 Option 可包含 ``` 围栏。",
  "settings.composer.pasting.title": "粘贴",
  "settings.composer.pasting.autoWrapMultiline.title": "多行粘贴自动包裹",
  "settings.composer.pasting.autoWrapMultiline.subtitle": "多行粘贴自动放入围栏。",
  "settings.composer.pasting.autoWrapCodeLike.title": "单行代码自动包裹",
  "settings.composer.pasting.autoWrapCodeLike.subtitle": "粘贴长单行代码时自动包裹。",
  "settings.composer.lists.title": "列表",
  "settings.composer.lists.continue.title": "Shift+Enter 继续列表",
  "settings.composer.lists.continue.subtitle": "当行有内容时继续有序/无序列表。",
  "settings.composer.presets.default": "默认（不启用辅助）",
  "settings.composer.presets.helpful": "辅助",
  "settings.composer.presets.smart": "智能",
  "settings.status.loading": "加载中…",
  "settings.status.saving": "保存中…",
  "settings.status.notFound": "未找到",
  "settings.status.truncated": "已截断",
  "settings.action.save": "保存",
  "settings.action.create": "创建",
  "settings.action.clear": "清除",
  "settings.action.browse": "浏览",
  "settings.action.usePath": "使用 PATH",
  "settings.action.saving": "保存中...",
  "settings.action.running": "运行中...",
  "settings.action.runDoctor": "运行检查",
  "settings.action.addApp": "添加应用",
  "settings.action.downloadModel": "下载模型",
  "settings.action.cancelDownload": "取消下载",
  "settings.action.removeModel": "移除模型",
  "settings.error.openConfig": "无法打开配置。",
  "settings.platform.finder": "访达",
  "settings.platform.fileExplorer": "文件资源管理器",
  "settings.platform.fileManager": "文件管理器",
  "settings.dictation.title": "语音输入",
  "settings.dictation.subtitle": "启用麦克风语音输入并在本地转写。",
  "settings.dictation.enable.title": "启用语音输入",
  "settings.dictation.enable.subtitle": "首次使用会下载所选 Whisper 模型。",
  "settings.dictation.model.label": "语音模型",
  "settings.dictation.modelHelp": "{note} 下载大小：{size}。",
  "settings.dictation.language.label": "偏好语音语言",
  "settings.dictation.language.help": "仍会自动检测；此设置会让解码器偏向你的语言。",
  "settings.dictation.language.auto": "仅自动检测",
  "settings.dictation.language.en": "英语",
  "settings.dictation.language.es": "西班牙语",
  "settings.dictation.language.fr": "法语",
  "settings.dictation.language.de": "德语",
  "settings.dictation.language.it": "意大利语",
  "settings.dictation.language.pt": "葡萄牙语",
  "settings.dictation.language.nl": "荷兰语",
  "settings.dictation.language.sv": "瑞典语",
  "settings.dictation.language.no": "挪威语",
  "settings.dictation.language.da": "丹麦语",
  "settings.dictation.language.fi": "芬兰语",
  "settings.dictation.language.pl": "波兰语",
  "settings.dictation.language.tr": "土耳其语",
  "settings.dictation.language.ru": "俄语",
  "settings.dictation.language.uk": "乌克兰语",
  "settings.dictation.language.ja": "日语",
  "settings.dictation.language.ko": "韩语",
  "settings.dictation.language.zh": "中文",
  "settings.dictation.holdKey.label": "按住说话按键",
  "settings.dictation.holdKey.help": "按住键开始语音输入，松开后停止并处理。",
  "settings.dictation.windowsNote": "Windows 使用系统语音引擎，模型设置不会生效。",
  "settings.dictation.holdKey.off": "关闭",
  "settings.dictation.holdKey.alt": "Option / Alt",
  "settings.dictation.holdKey.shift": "Shift",
  "settings.dictation.holdKey.control": "Control",
  "settings.dictation.holdKey.meta": "Command / Meta",
  "settings.dictation.status.label": "模型状态（{label}）",
  "settings.dictation.status.ready": "可用于语音输入。",
  "settings.dictation.status.missing": "模型尚未下载。",
  "settings.dictation.status.downloading": "正在下载模型...",
  "settings.dictation.status.error": "下载出错。",
  "settings.dictation.models.tiny.label": "Tiny",
  "settings.dictation.models.tiny.note": "最快，但准确度最低。",
  "settings.dictation.models.base.label": "Base",
  "settings.dictation.models.base.note": "平衡的默认选择。",
  "settings.dictation.models.small.label": "Small",
  "settings.dictation.models.small.note": "更高准确度。",
  "settings.dictation.models.medium.label": "Medium",
  "settings.dictation.models.medium.note": "高准确度。",
  "settings.dictation.models.largeV3.label": "Large V3",
  "settings.dictation.models.largeV3.note": "最高准确度，下载较大。",
  "home.title": "OpenVibe",
  "home.subtitle": "统一调度本地项目中的代理。",
  "home.latest.title": "最新代理",
  "home.latest.fallback": "代理已回复。",
  "home.latest.status.running": "运行中",
  "home.latest.loading": "正在加载代理",
  "home.latest.empty.title": "暂无代理活动",
  "home.latest.empty.subtitle": "开始一个对话后，这里会显示最新回复。",
  "home.actions.openProject": "打开项目",
  "home.actions.addWorkspace": "添加工作区",
  "home.usage.title": "用量快照",
  "home.usage.updated": "更新于 {time}",
  "home.usage.refresh": "刷新用量",
  "home.usage.workspace.label": "工作区",
  "home.usage.workspace.all": "全部工作区",
  "home.usage.view.label": "视图",
  "home.usage.view.aria": "用量视图",
  "home.usage.view.tokens": "Token",
  "home.usage.view.time": "时间",
  "home.usage.empty.title": "暂无用量数据",
  "home.usage.empty.subtitle": "运行一次 Codex 会话以开始统计用量。",
  "home.usage.metrics.last7Days": "近 7 天",
  "home.usage.metrics.last30Days": "近 30 天",
  "home.usage.metrics.avgPerDay": "平均 {value}/天",
  "home.usage.metrics.total": "总计 {value}",
  "home.usage.metrics.cacheHitRate": "缓存命中率",
  "home.usage.metrics.peakDay": "峰值日",
  "home.usage.metrics.runs": "运行次数",
  "home.usage.metrics.agentTime": "代理时长",
  "home.usage.metrics.tokens": "token",
  "home.usage.metrics.tokensWithValue": "{value} token",
  "home.usage.metrics.agentTimeWithValue": "{value} 代理时长",
  "home.usage.chart.tooltip.tokens": "{day} · {value} token",
  "home.usage.chart.tooltip.time": "{day} · {value} 代理时长",
  "home.usage.models.title": "热门模型",
  "home.usage.models.tokensHint": "Token",
  "home.usage.models.empty": "暂无模型",
  "sidebar.home": "首页",
  "sidebar.addWorkspace": "添加工作区",
  "sidebar.pinned": "已置顶",
  "sidebar.empty": "先添加一个工作区。",
  "sidebar.usage": "用量",
  "sidebar.yunyi.title": "云驿统计",
  "sidebar.yunyi.dailyQuota": "每日额度",
  "sidebar.yunyi.reset.soon": "即将重置",
  "sidebar.yunyi.reset.minutes": "{minutes} 分钟后重置",
  "sidebar.yunyi.reset.hoursMinutes": "{hours} 小时 {minutes} 分钟后重置",
  "sidebar.yunyi.billing.duration": "按时长",
  "sidebar.yunyi.billing.amount": "按金额",
  "sidebar.yunyi.billing.quota": "按额度",
  "sidebar.yunyi.updatedAt": "更新于 {time}",
  "sidebar.yunyi.missingToken": "请在设置中填写令牌。",
  "sidebar.yunyi.error": "无法获取额度。",
  "sidebar.menu.rename": "重命名",
  "sidebar.menu.sync": "从服务器同步",
  "sidebar.menu.archive": "归档",
  "sidebar.menu.copyId": "复制 ID",
  "sidebar.menu.pin": "置顶",
  "sidebar.menu.unpin": "取消置顶",
  "sidebar.menu.reloadThreads": "重新加载会话",
  "sidebar.menu.delete": "删除",
  "sidebar.menu.deleteWorktree": "删除工作树",
  "sidebar.user.localWorkspace": "本地工作区",
  "sidebar.user.settings": "设置",
  "sidebar.user.debugLog": "调试日志",
  "sidebar.addMenu.newAgent": "新建代理",
  "sidebar.addMenu.newWorktreeAgent": "新建工作树代理",
  "sidebar.addMenu.newCloneAgent": "新建克隆代理",
  "sidebar.team.allWorkspaces": "全部工作区",
  "sidebar.team.workspaceCount.one": "{count} 个工作区",
  "sidebar.team.workspaceCount.other": "{count} 个工作区",
  "settings.shortcuts.title": "快捷键",
  "settings.shortcuts.subtitle": "自定义文件操作、编辑器、面板与导航快捷键。",
  "settings.shortcuts.file.title": "文件",
  "settings.shortcuts.file.subtitle": "用键盘创建代理与工作树。",
  "settings.shortcuts.newAgent": "新建代理",
  "settings.shortcuts.newWorktreeAgent": "新建工作树代理",
  "settings.shortcuts.newCloneAgent": "新建克隆代理",
  "settings.shortcuts.archiveThread": "归档当前对话",
  "settings.shortcuts.placeholder": "按下快捷键",
  "settings.shortcuts.default": "默认：{value}",
  "settings.shortcuts.pressToSet": "聚焦后按新快捷键。默认：{value}",
  "settings.shortcuts.composer.title": "编辑器",
  "settings.shortcuts.composer.subtitle": "在模型、权限、推理与协作模式之间切换。",
  "settings.shortcuts.cycleModel": "切换模型",
  "settings.shortcuts.cycleAccess": "切换权限模式",
  "settings.shortcuts.cycleReasoning": "切换推理模式",
  "settings.shortcuts.cycleCollaboration": "切换协作模式",
  "settings.shortcuts.stopRun": "停止当前运行",
  "settings.shortcuts.panels.title": "面板",
  "settings.shortcuts.panels.subtitle": "切换侧边栏与面板。",
  "settings.shortcuts.panels.projects": "切换项目侧栏",
  "settings.shortcuts.panels.git": "切换 Git 侧栏",
  "settings.shortcuts.panels.debug": "切换调试面板",
  "settings.shortcuts.panels.terminal": "切换终端面板",
  "settings.shortcuts.navigation.title": "导航",
  "settings.shortcuts.navigation.subtitle": "在代理与工作区之间切换。",
  "settings.shortcuts.navigation.nextAgent": "下一个代理",
  "settings.shortcuts.navigation.prevAgent": "上一个代理",
  "settings.shortcuts.navigation.nextWorkspace": "下一个工作区",
  "settings.shortcuts.navigation.prevWorkspace": "上一个工作区",
  "settings.openApps.title": "打开方式",
  "settings.openApps.subtitle": "自定义标题栏与文件预览中的打开方式菜单。",
  "settings.openApps.label": "标签",
  "settings.openApps.type": "类型",
  "settings.openApps.appName": "应用名称",
  "settings.openApps.command": "命令",
  "settings.openApps.args": "参数",
  "settings.openApps.type.app": "应用",
  "settings.openApps.type.command": "命令",
  "settings.openApps.default": "默认",
  "settings.openApps.moveUp": "上移",
  "settings.openApps.moveDown": "下移",
  "settings.openApps.remove": "移除应用",
  "settings.openApps.help": "命令会将所选路径作为最后一个参数传入。应用使用系统打开器并可带参数。",
  "settings.openApps.aria.label": "打开应用标签 {index}",
  "settings.openApps.aria.type": "打开应用类型 {index}",
  "settings.openApps.aria.appName": "打开应用名称 {index}",
  "settings.openApps.aria.command": "打开应用命令 {index}",
  "settings.openApps.aria.args": "打开应用参数 {index}",
  "settings.openApps.newApp": "新应用",
  "settings.codex.title": "Codex",
  "settings.codex.subtitle": "配置 OpenVibe 使用的 Codex CLI，并验证安装。",
  "settings.codex.path.label": "默认 Codex 路径",
  "settings.codex.path.help": "留空以使用系统 PATH 解析。",
  "settings.codex.args.label": "默认 Codex 参数",
  "settings.codex.args.help": "在 app-server 前追加参数。包含空格的值请加引号。",
  "settings.codex.doctor.okTitle": "Codex 正常",
  "settings.codex.doctor.errorTitle": "检测到 Codex 问题",
  "settings.codex.doctor.version": "版本：{value}",
  "settings.codex.doctor.appServer": "App-server：{value}",
  "settings.codex.doctor.node": "Node：{value}",
  "settings.codex.doctor.ok": "正常",
  "settings.codex.doctor.failed": "失败",
  "settings.codex.doctor.missing": "缺失",
  "settings.codex.doctor.unknown": "未知",
  "settings.codex.doctor.okWithVersion": "正常（{version}）",
  "settings.codex.doctor.path": "PATH：{value}",
  "settings.codex.access.title": "访问权限",
  "settings.codex.access.subtitle": "选择 Codex 会话的默认权限等级。",
  "settings.codex.defaultAccess": "默认权限模式",
  "settings.codex.access.readOnly": "只读",
  "settings.codex.access.onRequest": "按需",
  "settings.codex.access.full": "完全访问",
  "settings.codex.backendMode": "后端模式",
  "settings.codex.backend.local": "本地（默认）",
  "settings.codex.backend.remote": "远程（守护进程）",
  "settings.codex.backend.help":
    "远程模式连接到另一台机器上的守护进程（例如 WSL2/Linux）。",
  "settings.codex.remote.title": "远程后端",
  "settings.codex.remote.hostAria": "远程后端地址",
  "settings.codex.remote.tokenAria": "远程后端令牌",
  "settings.codex.remote.tokenPlaceholder": "令牌（可选）",
  "settings.codex.remote.help": "单独启动守护进程，并指向 OpenVibe（host:port + token）。",
  "settings.codex.fileAgents.title": "全局 AGENTS.md",
  "settings.codex.fileAgents.placeholder": "添加全局 Codex 代理指令…",
  "settings.codex.fileConfig.title": "全局 config.toml",
  "settings.codex.fileConfig.placeholder": "编辑全局 Codex config.toml…",
  "settings.codex.fileLocation": "存放于",
  "settings.codex.workspaceOverrides.title": "工作区覆盖设置",
  "settings.codex.workspaceOverrides.subtitle":
    "为特定工作区覆盖 Codex 路径与参数。",
  "settings.codex.workspaceOverrides.binLabel": "Codex 二进制",
  "settings.codex.workspaceOverrides.homeLabel": "CODEX_HOME",
  "settings.codex.workspaceOverrides.argsLabel": "Codex 参数",
  "settings.codex.workspaceOverrides.binPlaceholder": "Codex 二进制覆盖",
  "settings.codex.workspaceOverrides.homePlaceholder": "CODEX_HOME 覆盖",
  "settings.codex.workspaceOverrides.argsPlaceholder": "Codex 参数覆盖",
  "settings.codex.workspaceOverrides.binAria": "为 {name} 覆盖 Codex 二进制",
  "settings.codex.workspaceOverrides.homeAria": "为 {name} 覆盖 CODEX_HOME",
  "settings.codex.workspaceOverrides.argsAria": "为 {name} 覆盖 Codex 参数",
  "settings.codex.workspaceOverrides.saveErrorTitle": "无法保存覆盖设置",
  "settings.codex.workspaceOverrides.saveErrorMessage": "请检查路径后再试。",
  "settings.codex.workspaceOverrides.saved": "已保存。",
  "settings.codex.workspaceOverrides.savedValue": "已保存：{value}",
  "settings.codex.workspaceOverrides.effectiveBin": "当前生效：{value}",
  "settings.codex.workspaceOverrides.effectiveHome": "CODEX_HOME：{value}",
  "settings.codex.workspaceOverrides.effectiveArgs": "参数：{value}",
  "settings.codex.workspaceOverrides.test": "检测",
  "settings.codex.workspaceOverrides.testRunning": "检测中…",
  "settings.codex.workspaceOverrides.testOk": "正常",
  "settings.codex.workspaceOverrides.testFailed": "失败",
  "settings.value.none": "无",
  "settings.value.default": "默认",
  "settings.experimental.title": "实验功能",
  "settings.experimental.subtitle": "预览可能会变更或移除的功能。",
  "settings.experimental.overridesNotice":
    "实验标志存储在默认 CODEX_HOME config.toml 中，工作区覆盖不会更新。",
  "settings.experimental.configFile.title": "配置文件",
  "settings.experimental.configFile.subtitle": "在 {label} 中打开 Codex 配置。",
  "settings.experimental.openInFileManager": "在 {label} 中打开",
  "settings.experimental.multiAgent.title": "多代理",
  "settings.experimental.multiAgent.subtitle": "在 Codex 中启用多代理协作工具。",
  "settings.experimental.collaborationModes.title": "协作模式",
  "settings.experimental.collaborationModes.subtitle": "启用协作模式预设（Code、Plan）。",
  "settings.experimental.backgroundTerminal.title": "后台终端",
  "settings.experimental.backgroundTerminal.subtitle": "在后台运行耗时的终端命令。",
  "settings.experimental.threadResumeStreaming.title": "流式加载对话",
  "settings.experimental.threadResumeStreaming.subtitle":
    "打开会话时逐步渲染历史内容。",
  "settings.experimental.steer.title": "Steer 模式",
  "settings.experimental.steer.subtitle": "立即发送消息。运行中时可用 Tab 排队。",
  "settings.experimental.yunyi.title": "云驿统计",
  "settings.experimental.yunyi.subtitle": "在侧边栏显示额度卡片。",
  "settings.experimental.yunyi.token.label": "云驿 API 令牌",
  "settings.experimental.yunyi.token.placeholder": "Bearer ...",
  "settings.experimental.yunyi.token.help": "仅保存在本地，用于请求 yunyi.cfd 的用量。",
  "settings.experimental.happy.title": "Happy 远程",
  "settings.experimental.happy.subtitle": "同步会话到 Happy，支持手机继续操作。",
  "settings.experimental.happy.token.label": "Happy 令牌",
  "settings.experimental.happy.token.placeholder": "Bearer ...",
  "settings.experimental.happy.token.help": "仅保存在本地，用于连接 Happy 服务器。",
  "settings.experimental.happy.secret.label": "Happy 密钥",
  "settings.experimental.happy.secret.placeholder": "XXXXX-XXXXX-XXXXX...",
  "settings.experimental.happy.secret.help": "用于端到端加密，请妥善保管。",
  "settings.experimental.happy.server.label": "服务器地址",
  "settings.experimental.happy.server.placeholder":
    "https://api.cluster-fluster.com",
  "settings.experimental.happy.server.help":
    "默认使用官方服务器，自建地址可选。",
  "settings.experimental.happy.credentialsHelp":
    "凭据会自动从 ~/.happy/access.key（或 HAPPY_HOME_DIR）读取。",
  "settings.projects.group.deletePrompt": "删除“{name}”？",
  "settings.projects.group.deleteDetail": "该分组中的项目将移动到“{label}”。",
  "settings.projects.group.deleteTitle": "删除分组",
  "settings.projects.group.deleteConfirm": "删除",
  "settings.projects.group.deleteCancel": "取消",
  "composer.collaboration": "协作模式",
  "composer.dictation.unavailable": "语音输入不可用，请检查设置。",
  "composer.dictation.canceled": "语音输入已取消（切换窗口会取消）。",
  "composer.dictation.dismiss": "关闭",
  "composer.target.label": "发送到",
  "composer.target.unknown": "当前对话",
  "composer.placeholder.default": "让助手做点什么…",
  "composer.placeholder.target": "发送到 {target}…",
  "composer.placeholder.disabled": "审核进行中，结束后可继续聊天。",
  "composer.sendConfirm.title": "输入提醒",
  "composer.sendConfirm.description": "是否发送到 {target}？",
  "composer.sendConfirm.cancel": "取消发送",
  "composer.sendConfirm.confirm": "确认发送",
  "composer.copyFromTab": "复制来自 {target} 的草稿",
  "composer.noModels": "暂无模型",
  "composer.default": "默认",
  "composer.access.readOnly": "只读",
  "composer.access.onRequest": "按需请求",
  "composer.access.full": "完全访问",
  "composer.contextFree": "上下文剩余 {percent}%",
  "composer.contextFreeUnknown": "上下文剩余 --",
  "panel.tabs.git": "Git",
  "panel.tabs.files": "文件",
  "panel.tabs.prompts": "提示词",
  "git.mode.diff": "差异",
  "git.mode.log": "提交记录",
  "git.mode.issues": "问题",
  "git.mode.prs": "拉取请求",
  "git.depth": "深度",
  "git.scanWorkspace": "扫描工作区",
  "git.pickFolder": "选择文件夹",
  "git.useWorkspaceRoot": "使用工作区根目录",
  "git.change": "更改",
  "git.branch.unknown": "未检测到 Git 跟踪",
  "git.path": "路径",
  "git.chooseRepo": "为此工作区选择一个仓库。",
  "git.scanning": "正在扫描仓库...",
  "git.issues.title": "GitHub 问题",
  "git.prs.title": "GitHub 拉取请求",
  "git.commits.loading": "正在加载提交...",
  "git.commits.none": "没有提交",
  "git.commits.noneYet": "暂无提交",
  "git.upstream.none": "未配置上游",
  "git.upstream.label": "上游 {name}",
  "git.stageChanges": "暂存更改",
  "git.unstageChanges": "取消暂存",
  "git.discardChanges": "丢弃更改",
  "git.stageAllChanges": "全部暂存",
  "git.unstageAllChanges": "全部取消暂存",
  "git.discardAllChanges": "全部丢弃",
  "git.applyWorktree": "应用更改到父工作区",
  "git.status.clean": "工作区干净",
  "git.status.noRepo": "未发现 Git 仓库",
  "git.status.unavailable": "Git 状态不可用",
  "git.status.changed.one": "{count} 个文件有更改",
  "git.status.changed.other": "{count} 个文件有更改",
  "git.noChangesDetected": "未检测到更改。",
  "git.commit": "提交",
  "git.commit.loading": "正在提交...",
  "git.commit.enterMessage": "请输入提交信息",
  "git.commit.noChanges": "没有可提交的更改",
  "git.commit.staged": "提交已暂存的更改",
  "git.commit.unstaged": "提交所有未暂存的更改",
  "git.commitMessage.placeholder": "提交信息...",
  "git.commitMessage.generate.aria": "生成提交信息",
  "git.commitMessage.generate.staged": "根据已暂存更改生成提交信息",
  "git.commitMessage.generate.unstaged": "根据未暂存更改生成提交信息",
  "git.push": "推送",
  "git.push.title.one": "推送 {count} 个提交",
  "git.push.title.other": "推送 {count} 个提交",
  "prompts.meta.count.one": "{count} 条提示词",
  "prompts.meta.count.other": "{count} 条提示词",
  "prompts.meta.none": "暂无提示词",
  "prompts.filter.placeholder": "筛选提示词",
  "prompts.filter.aria": "筛选提示词",
  "prompts.editor.name": "名称",
  "prompts.editor.namePlaceholder": "提示词名称",
  "prompts.editor.scope": "范围",
  "prompts.editor.scope.workspace": "工作区",
  "prompts.editor.scope.global": "通用",
  "prompts.editor.description": "描述",
  "prompts.editor.descriptionPlaceholder": "可选描述",
  "prompts.editor.argumentHint": "参数提示",
  "prompts.editor.argumentHintPlaceholder": "可选参数提示",
  "prompts.editor.content": "内容",
  "prompts.editor.contentPlaceholder": "提示词内容",
  "prompts.editor.error.nameRequired": "名称不能为空。",
  "prompts.editor.error.nameNoWhitespace": "名称不能包含空格。",
  "prompts.editor.actions.cancel": "取消",
  "prompts.editor.actions.create": "创建",
  "prompts.editor.actions.save": "保存",
  "prompts.section.workspace": "工作区提示词",
  "prompts.section.global": "通用提示词",
  "prompts.section.addWorkspace": "添加工作区提示词",
  "prompts.section.addGlobal": "添加通用提示词",
  "prompts.empty.workspace.title": "暂无工作区提示词",
  "prompts.empty.workspace.subtitle.before": "可在此创建，或将 .md 文件放入",
  "prompts.empty.workspace.folder": "工作区提示词目录",
  "prompts.empty.workspace.subtitle.after": "。",
  "prompts.empty.global.title": "暂无通用提示词",
  "prompts.empty.global.subtitle.before": "可在此创建，或将 .md 文件放入",
  "prompts.empty.global.folder": "CODEX_HOME/prompts",
  "prompts.empty.global.subtitle.after": "。",
  "prompts.actions.args.placeholder": "参数",
  "prompts.actions.args.aria": "{name} 的参数",
  "prompts.actions.send": "发送",
  "prompts.actions.send.title": "发送到当前 agent",
  "prompts.actions.sendNew": "新建 agent",
  "prompts.actions.sendNew.title": "发送到新 agent",
  "prompts.actions.menu": "提示词操作",
  "prompts.menu.edit": "编辑",
  "prompts.menu.moveToWorkspace": "移动到工作区",
  "prompts.menu.moveToGeneral": "移动到通用",
  "prompts.menu.delete": "删除",
  "prompts.delete.confirm": "删除此提示词？",
  "prompts.delete.action": "删除",
  "prompts.delete.cancel": "取消",
};

const dictionaries: Record<ResolvedLanguage, Record<TranslationKey, string>> = {
  en,
  "zh-CN": zhCN,
};

function resolveSystemLanguage(): ResolvedLanguage {
  if (typeof navigator === "undefined") {
    return "en";
  }
  const locale =
    navigator.languages?.[0] ?? navigator.language ?? "en";
  return locale.toLowerCase().startsWith("zh") ? "zh-CN" : "en";
}

export function resolveLanguage(language: AppLanguage): ResolvedLanguage {
  if (language === "system") {
    return resolveSystemLanguage();
  }
  return language === "zh-CN" ? "zh-CN" : "en";
}

export function getTranslator(language: AppLanguage) {
  const resolved = resolveLanguage(language);
  const dictionary = dictionaries[resolved];
  return (key: TranslationKey, params?: TranslationParams) => {
    const template = dictionary[key] ?? en[key] ?? key;
    return formatTemplate(template, params);
  };
}

function formatTemplate(template: string, params?: TranslationParams) {
  if (!params) {
    return template;
  }
  return template.replace(/\{(\w+)\}/g, (match, key) => {
    const value = params[key];
    return value === undefined ? match : String(value);
  });
}

type I18nContextValue = {
  language: ResolvedLanguage;
  rawLanguage: AppLanguage;
  t: (key: TranslationKey, params?: TranslationParams) => string;
};

const I18nContext = createContext<I18nContextValue | null>(null);

export function I18nProvider({
  language,
  children,
}: {
  language: AppLanguage;
  children: ReactNode;
}) {
  const resolved = useMemo(() => resolveLanguage(language), [language]);
  const dictionary = dictionaries[resolved];
  const value = useMemo<I18nContextValue>(() => {
    const translate = (key: TranslationKey, params?: TranslationParams) => {
      const template = dictionary[key] ?? en[key] ?? key;
      return formatTemplate(template, params);
    };
    return {
      language: resolved,
      rawLanguage: language,
      t: translate,
    };
  }, [dictionary, language, resolved]);

  return <I18nContext.Provider value={value}>{children}</I18nContext.Provider>;
}

export function useI18n() {
  const context = useContext(I18nContext);
  if (!context) {
    throw new Error("useI18n must be used within an I18nProvider.");
  }
  return context;
}
